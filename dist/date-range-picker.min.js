angular.module("fslab.daterangepicker",[]),angular.module("fslab.daterangepicker").factory("fslabDateRangePickerDirectiveDef",["$timeout","dateRangePickerConfig",function(e,t){return function(){return{require:"ngModel",scope:{minDate:"=",maxDate:"="},link:function(a,n,r,o){var i,l,d,u,m,c,s,f,g;c="today"===a.minDate?moment().startOf("day"):a.minDate,m="today"===a.maxDate?moment().endOf("day"):a.maxDate,i=angular.copy(t),f=function(e){return!(c&&!e[0].isAfter(c)||m&&!e[1].isBefore(m))},d={},g=i.ranges;for(u in g)s=g[u],f(s)&&(d[u]=s);return i.ranges=d,i.maxDate=m,i.minDate=c,n.daterangepicker(i),l=n.data("daterangepicker"),o.$render=function(){var e;return e=o.$modelValue,(null!=e?e.startDate:void 0)&&l.setStartDate(moment(e.startDate)),(null!=e?e.endDate:void 0)?l.setEndDate(moment(e.endDate)):void 0},e(function(){return n.on("apply.daterangepicker",function(){return o.$setViewValue({startDate:moment(l.startDate).toDate(),endDate:moment(l.endDate).toDate()})}),n.on("cancel.daterangepicker",function(){return o.$setViewValue(void 0)})})}}}}]);var bind=function(e,t){return function(){return e.apply(t,arguments)}};angular.module("fslab.daterangepicker").provider("dateRangePickerConfig",function(){return new(function(){function e(){this.$get=bind(this.$get,this),this.config={locale:{format:"YYYY-MM-DD",fromLabel:"From",toLabel:"To",applyLabel:"OK",cancelLabel:"Clear",customRangeLabel:"Other",emptyFilterLabel:"choose date range"},ranges:{"Incoming week":[moment(),moment().add(7,"days")],Tomorrow:[moment().add(1,"days"),moment().add(1,"days")],Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Past week":[moment().subtract(7,"days"),moment()],"Past 30 days":[moment().subtract(30,"days"),moment()]}}}return e.prototype.$get=function(){return this.config},e}())}),angular.module("fslab.daterangepicker").directive("fslabDateRangePickerButton",["fslabDateRangePickerDirectiveDef",function(e){var t,a;return t=e(),a=t.link,t.scope.ngModel="=",angular.extend(t,{template:'<span class="glyphicon glyphicon-calendar"></span> {{ ngModel | fslabDateRange }}',link:function(e,t,n,r){return a(e,t,n,r),t.addClass("form-control"),t.attr("type","button")}})}]),angular.module("fslab.daterangepicker").directive("fslabDateRangePicker",["fslabDateRangePickerDirectiveDef",function(e){return e()}]),angular.module("fslab.daterangepicker").filter("fslabDateRange",["dateRangePickerConfig",function(e){var t;return t=function(t){var a;return moment(t).format((null!=(a=e.locale)?a.format:void 0)||"YYYY-MM-DD")},function(a,n){var r,o;return null==n&&(n=(null!=(r=e.locale)?r.emptyFilterLabel:void 0)||"choose date range"),(null!=a?a.startDate:void 0)?(o=t(a.startDate),moment(a.startDate).startOf("day").isBefore(moment(a.endDate).startOf("day"))&&(o+=" - "+t(a.endDate)),o):n}}]);